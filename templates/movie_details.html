{%extends "base.html" %}

{% block title %}Détails du film - {{ film.title }}{% endblock %}

{% block content %}

<div class="movie-page">
    <h1>{{ film.title }}</h1>
    <div class = "wrapper">
        <div class="one">
            <img src="{{ film.full_poster_url or '/static/img/no_poster.png' }}" 
                alt="{{ film.title }}">
        </div>
        <div class="two">
            <p><strong>Année :</strong> {{ film.release_date }}</p>
            <p><strong>Note :</strong> {{ film.vote_average }}/10</p>
            <p><strong>Description :</strong> {{ film.overview }}</p>
            <p><strong>Durée :</strong> {{ film.runtime }} minutes</p>
            <p><strong>Genres :</strong>
                {% for genre in film.genres %}
                    {{ genre }}{% if not loop.last %}, {% endif %}
                {% endfor %}
            </p>
            <form class="overlay-form rating-form">
                <input type="hidden" name="movie_id" value="{{ film.imdb_id }}">

                <label>Votre note :</label>
                <select name="rating" required>
                    <option value="" disabled selected>Choisir</option>
                    {% for i in range(1, 11) %}
                        <option value="{{ i }}">{{ i }}</option>
                    {% endfor %}
                </select>

                <button type="submit">Noter</button>
            </form>
            <a href="/main">⬅ Retour</a>
        </div>
    </div>
</div>
<style>
    .movie-page {
        padding: 20px;
    }
    .wrapper {
        display: grid;
        grid-template-columns: 1fr 2fr;
        grid-gap: 10px;
        align-items: stretch; 
        min-height: 350px;   
    }
    .one img  {
        width: 100%;
        height: 100%; 
        object-fit: cover; 
        border-radius: 12px;
    }
    .two {
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
</style>
{% endblock %}